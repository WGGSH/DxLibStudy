# 2-1 メインループの作成

``` cpp
#include "DxLib.h"


// Win Main 関数
int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nCmdShow)
{
	DxLib::ChangeWindowMode(TRUE); // ウィンドウモードで起動
	DxLib::SetWindowSizeChangeEnableFlag(TRUE); // ウィンドウサイズを可変にする
	DxLib::SetGraphMode(640, 480, 32); // 解像度の指定

	// DxLibの初期化処理
	// ここでウィンドウが生成される
	if (DxLib::DxLib_Init() == -1)
	{
		return -1;
	}

	// メインゲームクラス生成

	// 描画画面を裏に指定する
	DxLib::SetDrawScreen(DX_SCREEN_BACK);

	// メインループ 
	// while内の処理は原則毎秒60回実行される
	while (true) {
		if (DxLib::ProcessMessage() == -1)break; // プロセス処理
		if (DxLib::CheckHitKey(KEY_INPUT_ESCAPE))break; // ESCキーでゲーム終了

		// ウィンドウに表示されている内容を削除する
		DxLib::ClearDrawScreen();

		// ↓ここにメイン処理 
		

		// 描画内容をウィンドウに反映させる
		DxLib::ScreenFlip();

#ifdef _DEBUG
		// デバック時:デバック用の表示情報を削除
		DxLib::clsDx();
#endif
	}


	// DxLibの終了処理
	DxLib::DxLib_End();

	// メモリ開放

	return 0;
}
```
